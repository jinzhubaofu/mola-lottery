{"version":3,"sources":["util.js"],"names":["abortablePromise","promise","abortFn","abortPromise","Promise","resolve","reject","race","abort"],"mappings":";;;;;;;;;;;;;;;;YAKgBA,gB,GAAAA,gB;AALhB;;;;;AAKO,aAASA,gBAAT,CAA0BC,OAA1B,EAAmC;;AAEtC,YAAIC,UAAU,IAAd;;AAEA,YAAIC,eAAe,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACtDJ,sBAAU,mBAAY;AAClBI,uBAAO,SAAP;AACH,aAFD;AAGH,SAJkB,CAAnB;;AAMA,YAAIN,mBAAmBI,QAAQG,IAAR,CAAa,CAChCN,OADgC,EAEhCE,YAFgC,CAAb,CAAvB;;AAKAH,yBAAiBQ,KAAjB,GAAyBN,OAAzB;;AAEA,eAAOF,gBAAP;AACH","file":"util.js","sourcesContent":["/**\n * @file util\n * @author leon <ludafa@outlook.com>\n */\n\nexport function abortablePromise(promise) {\n\n    let abortFn = null;\n\n    let abortPromise = new Promise(function (resolve, reject) {\n        abortFn = function () {\n            reject('timeout');\n        };\n    });\n\n    let abortablePromise = Promise.race([\n        promise,\n        abortPromise\n    ]);\n\n    abortablePromise.abort = abortFn;\n\n    return abortablePromise;\n}\n"]}